var Custom="Custom",GoogleCheckout="GoogleCheckout",PayPal="PayPal",Email="Email",AustralianDollar=AUD="AUD",CanadianDollar=CAD="CAD",CzechKoruna=CZK="CZK",DanishKrone=DKK="DKK",Euro=EUR="EUR",HongKongDollar=HKD="HKD",HungarianForint=HUF="HUF",IsraeliNewSheqel=ILS="ILS",JapaneseYen=JPY="JPY",MexicanPeso=MXN="MXN",NorwegianKrone=NOK="NOK",NewZealandDollar=NZD="NZD",PolishZloty=PLN="PLN",PoundSterling=GBP="GBP",SingaporeDollar=SGD="SGD",SwedishKrona=SEK="SEK",SwissFranc=CHF="CHF",ThaiBaht=THB="THB",
USDollar=USD="USD";
function Cart(){var a=this;a.nextId=1;a.Version="2.1";a.Shelf=new Shelf;a.items={};a.isLoaded=!1;a.pageIsReady=!1;a.quantity=0;a.total=0;a.taxRate=0;a.taxCost=0;a.shippingFlatRate=0;a.shippingTotalRate=0;a.shippingQuantityRate=0;a.shippingRate=0;a.shippingCost=0;a.currency=USD;a.checkoutTo=PayPal;a.email="";a.merchantId="";a.successUrl=null;a.cancelUrl=null;a.cookieDuration=30;a.cartHeaders=["Name","Price","Quantity","Total"];a.add=function(){this.pageIsReady||(this.initializeView(),this.update());
this.isLoaded||(this.load(),this.update());var a=new CartItem;if(!arguments||arguments.length===0)return error("No values passed for item."),null;var b=arguments;arguments[0]&&typeof arguments[0]!="string"&&typeof arguments[0]!="number"&&(b=arguments[0]);a.parseValuesFromArray(b);a.checkQuantityAndPrice();this.hasItem(a)?(b=this.hasItem(a),this.items[b].quantity=parseInt(this.items[b].quantity,10)+parseInt(a.quantity,10),a=this.items[b]):this.items[a.id]=a;this.update();return a};a.remove=function(a){var b=
{},d;for(d in this.items)d!=a&&(b[d]=this.items[d]);this.items=b};a.empty=function(){simpleCart.items={};simpleCart.update()};a.find=function(c){if(!c)return null;var b=[],d;for(d in a.items){var f=a.items[d],e=!0,g;for(g in c)if(!f[g]||f[g]!=c[g])e=!1;e&&b.push(a.next)}return b.length==0?null:b};a.checkout=function(){if(simpleCart.quantity===0)error("Cart is empty");else switch(simpleCart.checkoutTo){case PayPal:simpleCart.paypalCheckout();break;case GoogleCheckout:simpleCart.googleCheckout();break;
case Email:simpleCart.emailCheckout();break;default:simpleCart.customCheckout()}};a.paypalCheckout=function(){var a="https://www.paypal.com/cgi-bin/webscr?cmd=_cart&upload=1&business="+this.email+"&currency_code="+this.currency,b=1,d="";this.taxRate&&(a=a+"&tax_cart="+this.currencyStringForPaypalCheckout(this.taxCost));for(var f in this.items){var e=this.items[f],g="",h;for(h in e)typeof e[h]!="function"&&h!="id"&&h!="price"&&h!="quantity"&&h!="name"&&h!="shipping"&&(g=g+", "+h+"="+e[h]);g=g.substring(2);
d=d+"&item_name_"+b+"="+e.name+"&item_number_"+b+"="+b+"&quantity_"+b+"="+e.quantity+"&amount_"+b+"="+this.currencyStringForPaypalCheckout(e.price)+"&on0_"+b+"=Options&os0_"+b+"="+g;b++}this.shipping()!=0&&(d=d+"&shipping="+this.currencyStringForPaypalCheckout(this.shippingCost));this.successUrl&&(d=d+"&return="+this.successUrl);this.cancelUrl&&(d=d+"&cancel_return="+this.cancelUrl);a+=d;window.open(a,"paypal","scrollbars,location,resizable,status")};a.googleCheckout=function(){if(this.currency!=
USD&&this.currency!=GBP)error("Google Checkout only allows the USD and GBP for currency.");else if(this.merchantId===""||this.merchantId===null||!this.merchantId)error("No merchant Id for google checkout supplied.");else{var a=document.createElement("form"),b=1;a.style.display="none";a.method="POST";a.action="https://checkout.google.com/api/checkout/v2/checkoutForm/Merchant/"+this.merchantId;a.acceptCharset="utf-8";for(var d in this.items){var f=this.items[d];a.appendChild(this.createHiddenElement("item_name_"+
b,f.name));a.appendChild(this.createHiddenElement("item_quantity_"+b,f.quantity));a.appendChild(this.createHiddenElement("item_price_"+b,f.price));a.appendChild(this.createHiddenElement("item_currency_"+b,this.currency));a.appendChild(this.createHiddenElement("item_tax_rate_"+b,this.taxRate));a.appendChild(this.createHiddenElement("_charset_",""));var e="",g;for(g in f)typeof f[g]!="function"&&g!="id"&&g!="quantity"&&g!="price"&&(e=e+", "+g+": "+f[g]);e=e.substring(1);a.appendChild(this.createHiddenElement("item_description_"+
b,e));b++}this.shipping()!=0&&(a.appendChild(this.createHiddenElement("ship_method_name_1","Shipping")),a.appendChild(this.createHiddenElement("ship_method_price_1",parseFloat(this.shippingCost).toFixed(2))),a.appendChild(this.createHiddenElement("ship_method_currency_1",this.currency)));document.body.appendChild(a);a.submit();document.body.removeChild(a)}};a.emailCheckout=function(){};a.customCheckout=function(){};a.load=function(){this.items={};this.quantity=this.total=0;if(readCookie("simpleCart"))for(var a=
unescape(readCookie("simpleCart")).split("++"),b=0,d=a.length;b<d;b++){var f=a[b].split("||"),e=new CartItem;e.parseValuesFromArray(f)&&(e.checkQuantityAndPrice(),this.items[e.id]=e)}for(var g in this.items);this.isLoaded=!0};a.save=function(){var a="",b;for(b in this.items)a=a+"++"+this.items[b].print();createCookie("simpleCart",a.substring(2),this.cookieDuration)};a.initializeView=function(){this.totalOutlets=getElementsByClassName("simpleCart_total");this.quantityOutlets=getElementsByClassName("simpleCart_quantity");
this.cartDivs=getElementsByClassName("simpleCart_items");this.taxCostOutlets=getElementsByClassName("simpleCart_taxCost");this.taxRateOutlets=getElementsByClassName("simpleCart_taxRate");this.shippingCostOutlets=getElementsByClassName("simpleCart_shippingCost");this.finalTotalOutlets=getElementsByClassName("simpleCart_finalTotal");this.addEventToArray(getElementsByClassName("simpleCart_checkout"),simpleCart.checkout,"click");this.addEventToArray(getElementsByClassName("simpleCart_empty"),simpleCart.empty,
"click");this.Shelf.readPage();this.pageIsReady=!0};a.updateView=function(){a.updateViewTotals();a.cartDivs&&a.cartDivs.length>0&&a.updateCartView()};a.updateViewTotals=function(){for(var c=[["quantity","none"],["total","currency"],["shippingCost","currency"],["taxCost","currency"],["taxRate","percentage"],["finalTotal","currency"]],b=0,d=c.length;b<d;b++){var f=c[b][0]+"Outlets",e,g;for(g in a[f]){switch(c[b][1]){case "none":e=""+a[c[b][0]];break;case "currency":e=a.valueToCurrencyString(a[c[b][0]]);
break;case "percentage":e=a.valueToPercentageString(a[c[b][0]]);break;default:e=""+a[c[b][0]]}a[f][g].innerHTML=""+e}}};a.updateCartView=function(){var c=[],b,d,f,e,g,h,i,k;f=document.createElement("div");b=0;for(var j=a.cartHeaders.length;b<j;b++){h=document.createElement("div");d=a.cartHeaders[b].split("_");h.innerHTML=a.print(d[0]);h.className="item"+d[0];e=1;for(i=d.length;e<i;e++)if(d[e].toLowerCase()=="noheader")h.style.display="none";f.appendChild(h)}f.className="cartHeaders";c[0]=f;d=1;for(g in a.items){f=
document.createElement("div");e=a.items[g];b=0;for(j=a.cartHeaders.length;b<j;b++)h=document.createElement("div"),i=a.cartHeaders[b].split("_"),k=a.createCartRow(i,e,k),h.innerHTML=k,h.className="item"+i[0],f.appendChild(h);f.className="itemContainer";c[d]=f;d++}for(g in a.cartDivs)if(b=a.cartDivs[g],b.childNodes&&b.appendChild){for(;b.childNodes[0];)b.removeChild(b.childNodes[0]);f=0;for(h=c.length;f<h;f++)b.appendChild(c[f])}};a.createCartRow=function(c,b,d){switch(c[0].toLowerCase()){case "total":d=
a.valueToCurrencyString(parseFloat(b.price)*parseInt(b.quantity,10));break;case "increment":d=a.valueToLink("+","javascript:;","onclick=\"simpleCart.items['"+b.id+"'].increment();\"");break;case "decrement":d=a.valueToLink("-","javascript:;","onclick=\"simpleCart.items['"+b.id+"'].decrement();\"");break;case "remove":d=a.valueToLink("Remove","javascript:;","onclick=\"simpleCart.items['"+b.id+"'].remove();\"");break;case "price":d=a.valueToCurrencyString(b[c[0].toLowerCase()]?b[c[0].toLowerCase()]:
" ");break;default:d=b[c[0].toLowerCase()]?b[c[0].toLowerCase()]:" "}for(var f=1,e=c.length;f<e;f++)switch(option=c[f].toLowerCase(),option){case "image":case "img":d=a.valueToImageString(d);break;case "input":d=a.valueToTextInput(d,"onchange=\"simpleCart.items['"+b.id+"'].set('"+c[0].toLowerCase()+"' , this.value);\"");break;case "div":case "span":case "h1":case "h2":case "h3":case "h4":case "p":d=a.valueToElement(option,d,"");break;case "noheader":break;default:error("unkown header option: "+option)}return d};
a.addEventToArray=function(a,b,d){for(var f in a){var e=a[f];e.addEventListener?e.addEventListener(d,b,!1):e.attachEvent&&e.attachEvent("on"+d,b)}};a.createHiddenElement=function(a,b){var d=document.createElement("input");d.type="hidden";d.name=a;d.value=b;return d};a.currencySymbol=function(){switch(a.currency){case CHF:return"CHF&nbsp;";case CZK:return"CZK&nbsp;";case DKK:return"DKK&nbsp;";case HUF:return"HUF&nbsp;";case NOK:return"NOK&nbsp;";case PLN:return"PLN&nbsp;";case SEK:return"SEK&nbsp;";
case JPY:return"&yen;";case EUR:return"&euro;";case GBP:return"&pound;";case CHF:return"CHF&nbsp;";case THB:return"&#3647;";case USD:case CAD:case AUD:case NZD:case HKD:case SGD:return"&#36;";default:return""}};a.currencyStringForPaypalCheckout=function(c){return a.currencySymbol()=="&#36;"?"$"+parseFloat(c).toFixed(2):""+parseFloat(c).toFixed(2)};a.valueToCurrencyString=function(c){c=parseFloat(c);isNaN(c)&&(c=0);return c.toCurrency(a.currencySymbol())};a.valueToPercentageString=function(a){return parseFloat(100*
a)+"%"};a.valueToImageString=function(a){return a.match(/<\s*img.*src\=/)?a:'<img src="'+a+'" />'};a.valueToTextInput=function(a,b){return'<input type="text" value="'+a+'" '+b+" />"};a.valueToLink=function(a,b,d){return'<a href="'+b+'" '+d+" >"+a+"</a>"};a.valueToElement=function(a,b,d){return"<"+a+" "+d+" > "+b+"</"+a+">"};a.hasItem=function(c){for(var b in a.items){var d=a.items[b],f=!0,e;for(e in c)typeof c[e]!="function"&&e!="quantity"&&e!="id"&&c[e]!=d[e]&&(f=!1);if(f)return b}return!1};a.ln=
{en_us:{quantity:"Quantity",price:"Price",total:"Total",decrement:"Decrement",increment:"Increment",remove:"Remove",tax:"Tax",shipping:"Shipping",image:"Image"}};a.language="en_us";a.print=function(a){return this.ln[this.language]&&this.ln[this.language][a.toLowerCase()]?this.ln[this.language][a.toLowerCase()]:a};a.update=function(){simpleCart.isLoaded||simpleCart.load();simpleCart.pageIsReady||simpleCart.initializeView();a.updateTotals();a.updateView();a.save()};a.updateTotals=function(){a.total=
0;a.quantity=0;for(var c in a.items){var b=a.items[c];if(b.quantity<1)b.remove();else if(b.quantity!==null&&b.quantity!="undefined")a.quantity=parseInt(a.quantity,10)+parseInt(b.quantity,10);if(b.price)a.total=parseFloat(a.total)+parseInt(b.quantity,10)*parseFloat(b.price)}a.shippingCost=a.shipping();a.taxCost=parseFloat(a.total)*a.taxRate;a.finalTotal=a.shippingCost+a.taxCost+a.total};a.shipping=function(){if(parseInt(a.quantity,10)===0)return 0;var c=parseFloat(a.shippingFlatRate)+parseFloat(a.shippingTotalRate)*
parseFloat(a.total)+parseFloat(a.shippingQuantityRate)*parseInt(a.quantity,10),b,d;for(d in a.items)b=a.items[d],b.shipping&&(c+=typeof b.shipping=="function"?parseFloat(b.shipping()):parseFloat(b.shipping));return c};a.initialize=function(){simpleCart.initializeView();simpleCart.load();simpleCart.update()}}function CartItem(){for(;simpleCart.items["c"+simpleCart.nextId];)simpleCart.nextId++;this.id="c"+simpleCart.nextId}
CartItem.prototype.set=function(a,c){a=a.toLowerCase();typeof this[a]!="function"&&a!="id"?(a=="quantity"?(c=c.replace(/[^(\d|\.)]*/gi,""),c=c.replace(/,*/gi,""),c=parseInt(c,10)):a=="price"&&(c=c.replace(/[^(\d|\.)]*/gi,""),c=c.replace(/,*/gi,""),c=parseFloat(c)),typeof c=="number"&&isNaN(c)?error("Improperly formatted input."):(c.match(/\~|\=/)&&error("Special character ~ or = not allowed: "+c),c=c.replace(/\~|\=/g,""),this[a]=c,this.checkQuantityAndPrice())):error("Cannot change "+a+", this is a reserved field.");
simpleCart.update()};CartItem.prototype.increment=function(){this.quantity=parseInt(this.quantity,10)+1;simpleCart.update()};CartItem.prototype.decrement=function(){parseInt(this.quantity,10)<2?this.remove():(this.quantity=parseInt(this.quantity,10)-1,simpleCart.update())};CartItem.prototype.print=function(){var a="",c;for(c in this)typeof this[c]!="function"&&(a+=escape(c)+"="+escape(this[c])+"||");return a.substring(0,a.length-2)};
CartItem.prototype.checkQuantityAndPrice=function(){if(!this.quantity||this.quantity==null||this.quantity=="undefined")this.quantity=1,error("No quantity for item.");else if(this.quantity=(""+this.quantity).replace(/,*/gi,""),this.quantity=parseInt((""+this.quantity).replace(/[^(\d|\.)]*/gi,""),10),isNaN(this.quantity))error("Quantity is not a number."),this.quantity=1;if(!this.price||this.price==null||this.price=="undefined")this.price=0,error("No price for item or price not properly formatted.");
else if(this.price=(""+this.price).replace(/,*/gi,""),this.price=parseFloat((""+this.price).replace(/[^(\d|\.)]*/gi,"")),isNaN(this.price))error("Price is not a number."),this.price=0};
CartItem.prototype.parseValuesFromArray=function(a){if(a&&a.length&&a.length>0){for(var c=0,b=a.length;c<b;c++){a[c]=a[c].replace(/\|\|/g,"| |");a[c]=a[c].replace(/\+\+/g,"+ +");a[c].match(/\~/)&&error("Special character ~ not allowed: "+a[c]);a[c]=a[c].replace(/\~/g,"");var d=a[c].split("=");if(d.length>1){if(d.length>2)for(var f=2,e=d.length;f<e;f++)d[1]=d[1]+"="+d[f];this[unescape(d[0]).toLowerCase()]=unescape(d[1])}}return!0}else return!1};
CartItem.prototype.remove=function(){simpleCart.remove(this.id);simpleCart.update()};function Shelf(){this.items={}}Shelf.prototype.readPage=function(){this.items={};var a=getElementsByClassName("simpleCart_shelfItem"),c;for(c in a){var b=new ShelfItem;this.checkChildren(a[c],b);this.items[b.id]=b}};
Shelf.prototype.checkChildren=function(a,c){if(a.childNodes)for(var b=0;a.childNodes[b];b++){var d=a.childNodes[b];if(d.className&&d.className.match(/item_[^ ]+/)){var f=/item_[^ ]+/.exec(d.className)[0].split("_");if(f[1]=="add"||f[1]=="Add"){f=[];f.push(d);var e=simpleCart.Shelf.addToCart(c.id);simpleCart.addEventToArray(f,e,"click");d.id=c.id}else c[f[1]]=d}d.childNodes[0]&&this.checkChildren(d,c)}};Shelf.prototype.empty=function(){this.items={}};
Shelf.prototype.addToCart=function(a){return function(){simpleCart.Shelf.items[a]?simpleCart.Shelf.items[a].addToCart():error("Shelf item with id of "+a+" does not exist.")}};function ShelfItem(){this.id="s"+simpleCart.nextId++}ShelfItem.prototype.remove=function(){simpleCart.Shelf.items[this.id]=null};
ShelfItem.prototype.addToCart=function(){var a=[],c,b;for(b in this)if(typeof this[b]!="function"&&b!="id"){c="";switch(b){case "price":if(this[b].value)c=this[b].value;else if(this[b].innerHTML)c=this[b].innerHTML;c=c.replace(/[^(\d|\.)]*/gi,"");c=c.replace(/,*/,"");break;case "image":c=this[b].src;break;default:c=this[b].value?this[b].value:this[b].innerHTML?this[b].innerHTML:this[b].src?this[b].src:this[b]}a.push(b+"="+c)}simpleCart.add(a)};
function createCookie(a,c,b){if(b){var d=new Date;d.setTime(d.getTime()+b*864E5);b="; expires="+d.toGMTString()}else b="";c=c.replace(/\=/g,"~");document.cookie=a+"="+c+b+"; path=/"}function readCookie(a){a+="=";for(var c=document.cookie.split(";"),b=0;b<c.length;b++){for(var d=c[b];d.charAt(0)==" ";)d=d.substring(1,d.length);if(d.indexOf(a)===0)return d.substring(a.length,d.length).replace(/\~/g,"=")}return null}function eraseCookie(a){createCookie(a,"",-1)}
var getElementsByClassName=function(a,c,b){getElementsByClassName=document.getElementsByClassName?function(a,b,c){for(var a=(c||document).getElementsByClassName(a),b=b?RegExp("\\b"+b+"\\b","i"):null,c=[],g,h=0,i=a.length;h<i;h+=1)g=a[h],(!b||b.test(g.nodeName))&&c.push(g);return c}:document.evaluate?function(a,b,c){for(var b=b||"*",c=c||document,g=a.split(" "),h="",i=document.documentElement.namespaceURI==="http://www.w3.org/1999/xhtml"?"http://www.w3.org/1999/xhtml":null,a=[],k,j=0,l=g.length;j<
l;j+=1)h+="[contains(concat(' ', @class, ' '), ' "+g[j]+" ')]";try{k=document.evaluate(".//"+b+h,c,i,0,null)}catch(m){k=document.evaluate(".//"+b+h,c,null,0,null)}for(;b=k.iterateNext();)a.push(b);return a}:function(a,b,c){var b=b||"*",c=c||document,g=a.split(" "),a=[],b=b==="*"&&c.all?c.all:c.getElementsByTagName(b),c=[],h;h=0;for(var i=g.length;h<i;h+=1)a.push(RegExp("(^|\\s)"+g[h]+"(\\s|$)"));for(var i=0,k=b.length;i<k;i+=1){g=b[i];h=!1;for(var j=0,l=a.length;j<l;j+=1)if(h=a[j].test(g.className),
!h)break;h&&c.push(g)}return c};return getElementsByClassName(a,c,b)};String.prototype.reverse=function(){return this.split("").reverse().join("")};Number.prototype.withCommas=function(){for(var a=6,c=parseFloat(this).toFixed(2).toString().reverse();a<c.length;)c=c.substring(0,a)+","+c.substring(a),a+=4;return c.reverse()};Number.prototype.toCurrency=function(a){return(a?a:"$")+this.withCommas()};function error(a){try{console.log(a)}catch(c){}}var simpleCart=new Cart;
typeof jQuery!=="undefined"?$(document).ready(function(){simpleCart.initialize()}):typeof Prototype!=="undefined"?Event.observe(window,"load",function(){simpleCart.initialize()}):window.onload=simpleCart.initialize;